
<div class="jumbotron">


    <% @instalments.each do |instalment| %>

        <%= form_for(instalment , :html=>{:multipart => true,:remote=>true} ) do |f| %>
          <% if instalment.errors.any? %>
            <div id="error_explanation">
              <h2><%= pluralize(instalment.errors.count, "error") %> prohibited this instalment from being saved:</h2>

              <ul>
              <% instalment.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
              </ul>
            </div>
          <% end %>

          <div class="row">
            <%= f.hidden_field :project_id  , class: "col-sm-1"%>
            <%= f.hidden_field :instalment_no , class: "col-sm-1" %>

            <div class="">
              Instalment No : <%= f.label instalment.instalment_no %>
            </div>
            <div class="form-group">
              <%= f.label :amount %>
              <%= f.text_field :amount  , class: "form-control" %>
            </div>
            <div class="">
              <%= f.label :instalment_date %>
              <br>
              <%= f.date_select(:instalment_date, {}, {:class => "form-control col-sm-3 frm-date"}) %>
            </div>

            <%= f.submit  "Update" , class: "update_instalment" %>
            </div>
        <% end %>
        <br>

    <% end %>
</div>

<script type="text/javascript">
  $('.update_instalment').closest('form').on('ajax:success', function() {
    alert("Successfully Updated");
  });

</script>
